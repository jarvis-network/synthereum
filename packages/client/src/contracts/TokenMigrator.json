{
  "contractName": "TokenMigrator",
  "abi": [
    {
      "inputs": [
        {
          "components": [
            {
              "internalType": "uint256",
              "name": "rawValue",
              "type": "uint256"
            }
          ],
          "internalType": "struct FixedPoint.Unsigned",
          "name": "_rate",
          "type": "tuple"
        },
        {
          "internalType": "address",
          "name": "_oldToken",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "_newToken",
          "type": "address"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "hasMigrated",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "newToken",
      "outputs": [
        {
          "internalType": "contract ExpandedIERC20",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "oldToken",
      "outputs": [
        {
          "internalType": "contract ERC20Snapshot",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "rate",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "rawValue",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "snapshotId",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "tokenHolder",
          "type": "address"
        }
      ],
      "name": "migrateTokens",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "metadata": "{\"compiler\":{\"version\":\"0.6.4+commit.1dca32f3\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"rawValue\",\"type\":\"uint256\"}],\"internalType\":\"struct FixedPoint.Unsigned\",\"name\":\"_rate\",\"type\":\"tuple\"},{\"internalType\":\"address\",\"name\":\"_oldToken\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"_newToken\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"name\":\"hasMigrated\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenHolder\",\"type\":\"address\"}],\"name\":\"migrateTokens\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"newToken\",\"outputs\":[{\"internalType\":\"contract ExpandedIERC20\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"oldToken\",\"outputs\":[{\"internalType\":\"contract ERC20Snapshot\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"rate\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"rawValue\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"snapshotId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Handles migrating token holders from one token to the next.\",\"methods\":{\"constructor\":{\"details\":\"This function triggers the snapshot upon which all migrations will be based.\",\"params\":{\"_newToken\":\"address of the token being migrated to.\",\"_oldToken\":\"address of the token being migrated from.\",\"_rate\":\"the number of old tokens it takes to generate one new token.\"}},\"migrateTokens(address)\":{\"details\":\"This function can only be called once per `tokenHolder`. Anyone can call this method on behalf of any other token holder since there is no disadvantage to receiving the tokens earlier.\",\"params\":{\"tokenHolder\":\"address of the token holder to migrate.\"}}},\"title\":\"Migration contract for VotingTokens.\"},\"userdoc\":{\"methods\":{\"constructor\":\"Construct the TokenMigrator contract.\",\"migrateTokens(address)\":{\"notice\":\"Migrates the tokenHolder's old tokens to new tokens.\"}}}},\"settings\":{\"compilationTarget\":{\"/home/opz/Projects/SynFiat/contracts/uma-contracts/oracle/implementation/TokenMigrator.sol\":\"TokenMigrator\"},\"evmVersion\":\"istanbul\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":500},\"remappings\":[]},\"sources\":{\"/home/opz/Projects/SynFiat/contracts/uma-contracts/common/implementation/FixedPoint.sol\":{\"keccak256\":\"0xf93005a2285b10a0b7e7b53fef45c4921c5131edc80f6481848b670a37343275\",\"urls\":[\"bzz-raw://dd2db53bbd8b4c3312e274e392c3f0781c56e520f858ef77a04a075d18123625\",\"dweb:/ipfs/QmPxr5HSYVJKfzWnQpGVf4hg4kxMrCRTAw5isjkBmvsA5N\"]},\"/home/opz/Projects/SynFiat/contracts/uma-contracts/common/interfaces/ExpandedIERC20.sol\":{\"keccak256\":\"0x6c4c90297aee292b99eedeb39f4e65701034ef6f49642ae628d4b0ad12e9c78d\",\"urls\":[\"bzz-raw://17d100eb81c1cacd0d5b459f7a983c58a69032e6a1538ff0204744e49476ee2e\",\"dweb:/ipfs/QmTJYi7up1wVhHWbPi21XJEmw7wNwfZZLNLtjLfoKc4ewe\"]},\"/home/opz/Projects/SynFiat/contracts/uma-contracts/oracle/implementation/TokenMigrator.sol\":{\"keccak256\":\"0x0b3d9b1d882d4014cfd16af31b947c6f0f9a7d239510f3b76e0e23438d3d17c5\",\"urls\":[\"bzz-raw://1ff18e3d62e2c522ec1436657b23579d0b831e9fc11c904e7776203456314371\",\"dweb:/ipfs/QmYFaWnnHEtgqee8om64GZDZ5mHi9xbkdJGMdsnc6k8FdW\"]},\"@openzeppelin/contracts/GSN/Context.sol\":{\"keccak256\":\"0x0de74dfa6b37943c1b834cbd8fb7a8d052e5ff80c7adb33692102dd6cd2985e9\",\"urls\":[\"bzz-raw://9d2d827fcf4a838f5821732c0acd6a40d21c2a5a2cfe2563feec91465f47bb60\",\"dweb:/ipfs/Qmex3wMKf5Sghbfvr288RUg1kP2uAyTMf11w83WbMbpQQc\"]},\"@openzeppelin/contracts/drafts/Counters.sol\":{\"keccak256\":\"0x4f3a00edb976e97943fe0a620ea2948955a75eff2a9231c202d50d1e062d8da5\",\"urls\":[\"bzz-raw://4d83aa87b7c75f666d57a0e5b779a19c00b453b14ee4ed88cfda6d056fdcf14c\",\"dweb:/ipfs/QmXpWwQVFo66hsrAZmHxoxNzwEwBDgNWvaUYqY4TJV38vk\"]},\"@openzeppelin/contracts/drafts/ERC20Snapshot.sol\":{\"keccak256\":\"0x90db947ca129a5f7f4d02de8bbe750a8f92757f309f85891c797cc1d17200bf9\",\"urls\":[\"bzz-raw://91b824760fa46848abaae5dc81db9b73e58c5c9550eedce34c64402cce6d8c5f\",\"dweb:/ipfs/QmQde292CNArYXUq9kuA9SRcPPy6UdDxYELonXnbLkKSvu\"]},\"@openzeppelin/contracts/math/Math.sol\":{\"keccak256\":\"0x50280546205978ca6573541955e15453b4c07a19e6c8ec4f6785a5ae0d7343fb\",\"urls\":[\"bzz-raw://6463c7833ba4b3cbc3b56d50b56e7ce870aaec674633d7897a459b234478fa3e\",\"dweb:/ipfs/QmRkfjwTpA5E4SxUoHw8Qb7g6eXahtgmLrWWtTGH2TDZLj\"]},\"@openzeppelin/contracts/math/SafeMath.sol\":{\"keccak256\":\"0xe4ed9d633e8e678e8ece3756e4002cc7989b72cd29a17ecdacdabf4fd48820a7\",\"urls\":[\"bzz-raw://03a55c81a7d4c93a1ca6d9b931830c1fde2799bfbbf5841321f67e7b056c36c2\",\"dweb:/ipfs/QmbcgdfB278NvzVZKjA7Jf1NjSeCCQ2277mJGL4UskyS56\"]},\"@openzeppelin/contracts/token/ERC20/ERC20.sol\":{\"keccak256\":\"0xa43329c05d4d75bb1f2e952b54cd40c7c197d3923b5927e61815cdac21a14dce\",\"urls\":[\"bzz-raw://f3c6697a015140d3a341499debb51032ec681f1d7123f54a9a272086cf606bbc\",\"dweb:/ipfs/QmRT1hwHzNoCWLLDBEBRXfGNjRZZyawi2wgrtRz24B8jLa\"]},\"@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0x708ae901e214e044a5c922748462157b9be162b3620aa56d7c0e7258f66aee1d\",\"urls\":[\"bzz-raw://c287ed9989e5f16114553a30f4ba3794be657f90598f101f7b92ce5859f46978\",\"dweb:/ipfs/QmeFeDCzfhhBTaY9NE9wREmrBRETvn4k3mo2FejqskVMtg\"]},\"@openzeppelin/contracts/utils/Arrays.sol\":{\"keccak256\":\"0x6167b89f91ae6ca26fcba6ad04565ffa70a74694e0e46fda9b1500b2b796cf34\",\"urls\":[\"bzz-raw://aa7a5a74568c83dee67049f8dc42a80450add6c440828a2f16ac4f64905faa75\",\"dweb:/ipfs/QmaVFRGewWReDnvpHraeyrh3GsHLxH1tq6BVKdhYxBaykT\"]}},\"version\":1}",
  "bytecode": "0x608060405234801561001057600080fd5b506040516108ee3803806108ee83398101604081905261002f916101d6565b61004760008461010760201b61031d1790919060201c565b61005057600080fd5b8251600355600180546001600160a01b038084166001600160a01b0319928316179092556000805485841692169190911780825560408051634b88b8ad60e11b815290519190931692639711715a9260048083019360209390929083900390910190829087803b1580156100c357600080fd5b505af11580156100d7573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906100fb9190610245565b6002555061029e915050565b600061011b826001600160e01b0361012816565b5183511190505b92915050565b6101306101ac565b604051806020016040528061015a670de0b6b3a76400008561016260201b6103b31790919060201c565b905292915050565b60008261017157506000610122565b8282028284828161017e57fe5b04146101a55760405162461bcd60e51b815260040161019c9061025d565b60405180910390fd5b9392505050565b6040518060200160405280600081525090565b80516001600160a01b038116811461012257600080fd5b600080600083850360608112156101eb578384fd5b60208112156101f8578384fd5b50604051602081016001600160401b0381118282101715610217578485fd5b60405284518152925061022d85602086016101bf565b915061023c85604086016101bf565b90509250925092565b600060208284031215610256578081fd5b5051919050565b60208082526021908201527f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f6040820152607760f81b606082015260800190565b610641806102ad6000396000f3fe608060405234801561001057600080fd5b50600436106100725760003560e01c8063c168471111610050578063c1684711146100b2578063c42bd05a146100c7578063d7625c88146100cf57610072565b80632c4e722e146100775780632ddc79b714610095578063b31c710a1461009d575b600080fd5b61007f6100ef565b60405161008c9190610602565b60405180910390f35b61007f6100f5565b6100a56100fb565b60405161008c91906104fe565b6100c56100c036600461047b565b61010a565b005b6100a56102f9565b6100e26100dd36600461047b565b610308565b60405161008c91906104f3565b60035481565b60025481565b6000546001600160a01b031681565b6001600160a01b03811660009081526004602052604090205460ff161561014c5760405162461bcd60e51b8152600401610143906105cb565b60405180910390fd5b6001600160a01b0381166000908152600460205260409020805460ff19166001179055610177610468565b60408051602081019182905260005460025463277166bf60e11b909352909182916001600160a01b031690634ee2cd7e906101b7908790602486016104da565b60206040518083038186803b1580156101cf57600080fd5b505afa1580156101e3573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061020791906104c2565b9052905061021c81600063ffffffff61031d16565b61022657506102f6565b61022e610468565b6040805160208101909152600354815261024f90839063ffffffff61033516565b60015481516040516340c10f1960e01b81529293506001600160a01b03909116916340c10f1991610285918791906004016104da565b602060405180830381600087803b15801561029f57600080fd5b505af11580156102b3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102d791906104a2565b6102f35760405162461bcd60e51b815260040161014390610565565b50505b50565b6001546001600160a01b031681565b60046020526000908152604090205460ff1681565b60006103288261037f565b5183511190505b92915050565b61033d610468565b60408051602081019091528251845182916103769161036a90670de0b6b3a764000063ffffffff6103b316565b9063ffffffff6103f416565b90529392505050565b610387610468565b6040805160208101909152806103ab84670de0b6b3a764000063ffffffff6103b316565b905292915050565b6000826103c25750600061032f565b828202828482816103cf57fe5b04146103ed5760405162461bcd60e51b81526004016101439061058a565b9392505050565b60006103ed83836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f000000000000815250600081836104525760405162461bcd60e51b81526004016101439190610512565b50600083858161045e57fe5b0495945050505050565b6040518060200160405280600081525090565b60006020828403121561048c578081fd5b81356001600160a01b03811681146103ed578182fd5b6000602082840312156104b3578081fd5b815180151581146103ed578182fd5b6000602082840312156104d3578081fd5b5051919050565b6001600160a01b03929092168252602082015260400190565b901515815260200190565b6001600160a01b0391909116815260200190565b6000602080835283518082850152825b8181101561053e57858101830151858201604001528201610522565b8181111561054f5783604083870101525b50601f01601f1916929092016040019392505050565b6020808252600b908201526a135a5b9d0819985a5b195960aa1b604082015260600190565b60208082526021908201527f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f6040820152607760f81b606082015260800190565b60208082526017908201527f416c7265616479206d6967726174656420746f6b656e73000000000000000000604082015260600190565b9081526020019056fea26469706673582212207e99a757b8fbf8320c19f88d413698210946e9bd1c085668e027c7ff93bdeebb64736f6c63430006040033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b50600436106100725760003560e01c8063c168471111610050578063c1684711146100b2578063c42bd05a146100c7578063d7625c88146100cf57610072565b80632c4e722e146100775780632ddc79b714610095578063b31c710a1461009d575b600080fd5b61007f6100ef565b60405161008c9190610602565b60405180910390f35b61007f6100f5565b6100a56100fb565b60405161008c91906104fe565b6100c56100c036600461047b565b61010a565b005b6100a56102f9565b6100e26100dd36600461047b565b610308565b60405161008c91906104f3565b60035481565b60025481565b6000546001600160a01b031681565b6001600160a01b03811660009081526004602052604090205460ff161561014c5760405162461bcd60e51b8152600401610143906105cb565b60405180910390fd5b6001600160a01b0381166000908152600460205260409020805460ff19166001179055610177610468565b60408051602081019182905260005460025463277166bf60e11b909352909182916001600160a01b031690634ee2cd7e906101b7908790602486016104da565b60206040518083038186803b1580156101cf57600080fd5b505afa1580156101e3573d6000803e3d6000fd5b505050506040513d601f19601f8201168201806040525081019061020791906104c2565b9052905061021c81600063ffffffff61031d16565b61022657506102f6565b61022e610468565b6040805160208101909152600354815261024f90839063ffffffff61033516565b60015481516040516340c10f1960e01b81529293506001600160a01b03909116916340c10f1991610285918791906004016104da565b602060405180830381600087803b15801561029f57600080fd5b505af11580156102b3573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102d791906104a2565b6102f35760405162461bcd60e51b815260040161014390610565565b50505b50565b6001546001600160a01b031681565b60046020526000908152604090205460ff1681565b60006103288261037f565b5183511190505b92915050565b61033d610468565b60408051602081019091528251845182916103769161036a90670de0b6b3a764000063ffffffff6103b316565b9063ffffffff6103f416565b90529392505050565b610387610468565b6040805160208101909152806103ab84670de0b6b3a764000063ffffffff6103b316565b905292915050565b6000826103c25750600061032f565b828202828482816103cf57fe5b04146103ed5760405162461bcd60e51b81526004016101439061058a565b9392505050565b60006103ed83836040518060400160405280601a81526020017f536166654d6174683a206469766973696f6e206279207a65726f000000000000815250600081836104525760405162461bcd60e51b81526004016101439190610512565b50600083858161045e57fe5b0495945050505050565b6040518060200160405280600081525090565b60006020828403121561048c578081fd5b81356001600160a01b03811681146103ed578182fd5b6000602082840312156104b3578081fd5b815180151581146103ed578182fd5b6000602082840312156104d3578081fd5b5051919050565b6001600160a01b03929092168252602082015260400190565b901515815260200190565b6001600160a01b0391909116815260200190565b6000602080835283518082850152825b8181101561053e57858101830151858201604001528201610522565b8181111561054f5783604083870101525b50601f01601f1916929092016040019392505050565b6020808252600b908201526a135a5b9d0819985a5b195960aa1b604082015260600190565b60208082526021908201527f536166654d6174683a206d756c7469706c69636174696f6e206f766572666c6f6040820152607760f81b606082015260800190565b60208082526017908201527f416c7265616479206d6967726174656420746f6b656e73000000000000000000604082015260600190565b9081526020019056fea26469706673582212207e99a757b8fbf8320c19f88d413698210946e9bd1c085668e027c7ff93bdeebb64736f6c63430006040033",
  "sourceMap": "350:2089:42:-:0;;;1123:438;5:9:-1;2:2;;;27:1;24;17:12;2:2;1123:438:42;;;;;;;;;;;;;;;;;;;;;1376:22;1396:1;1376:5;:19;;;;;;:22;;;;:::i;:::-;1368:31;;12:1:-1;9;2:12;1368:31:42;1409:12;;:4;:12;1431:8;:36;;-1:-1:-1;;;;;1431:36:42;;;-1:-1:-1;;;;;;1431:36:42;;;;;;;1409:12;1477:35;;;;;;;;;;;;;;1535:19;;;-1:-1:-1;;;1535:19:42;;;;:8;;;;;:17;;:19;;;;;;;;;;;;;;;;;;;:8;:19;;;2:2:-1;;;;27:1;24;17:12;2:2;1535:19:42;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;1535:19:42;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;1535:19:42;;;;;;;;;1522:10;:32;-1:-1:-1;350:2089:42;;-1:-1:-1;;350:2089:42;1355:144:11;1428:4;1464:19;1481:1;-1:-1:-1;;;;;1464:16:11;:19;:::i;:::-;:28;1451:10;;:41;;-1:-1:-1;1355:144:11;;;;;:::o;603:132::-;660:15;;:::i;:::-;694:34;;;;;;;;703:24;427:6;703:1;:5;;;;;;:24;;;;:::i;:::-;694:34;;687:41;603:132;-1:-1:-1;;603:132:11:o;2159:459:68:-;2217:7;2458:6;2454:45;;-1:-1:-1;2487:1:68;2480:8;;2454:45;2521:5;;;2525:1;2521;:5;:1;2544:5;;;;;:10;2536:56;;;;-1:-1:-1;;;2536:56:68;;;;;;;;;;;;;;;;;2610:1;2159:459;-1:-1:-1;;;2159:459:68:o;350:2089:42:-;;;;;;;;;;;;;;:::o;5:134:-1:-;83:13;;-1:-1;;;;;2929:54;;3133:35;;3123:2;;3182:1;;3172:12;677:587;;;;840:9;831:7;827:23;852:2;827:23;823:32;820:2;;;-1:-1;;858:12;820:2;305:4;284:19;280:30;277:2;;;-1:-1;;313:12;277:2;-1:-1;2396:2;2390:9;305:4;2422:17;;-1:-1;;;;;2482:34;;2518:22;;;2479:62;2476:2;;;-1:-1;;2544:12;2476:2;2396;2563:22;614:13;;422:86;;429:16;-1:-1;1065:64;1121:7;305:4;1097:22;;1065:64;;;1055:74;;1184:64;1240:7;2396:2;1220:9;1216:22;1184:64;;;1174:74;;814:450;;;;;;1271:263;;1386:2;1374:9;1365:7;1361:23;1357:32;1354:2;;;-1:-1;;1392:12;1354:2;-1:-1;614:13;;1348:186;-1:-1;1348:186;1920:407;2111:2;2125:47;;;1766:2;2096:18;;;2701:19;1802:34;2741:14;;;1782:55;-1:-1;;;1857:12;;;1850:25;1894:12;;;2082:245;;350:2089:42;;;;;;",
  "deployedSourceMap": "350:2089:42:-:0;;;;5:9:-1;2:2;;;27:1;24;17:12;2:2;350:2089:42;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;12:1:-1;9;2:12;666:31:42;;;:::i;:::-;;;;;;;;;;;;;;;;638:22;;;:::i;566:29::-;;;:::i;:::-;;;;;;;;1921:516;;;;;;;;;:::i;:::-;;601:30;;;:::i;704:43::-;;;;;;;;;:::i;:::-;;;;;;;;666:31;;;;:::o;638:22::-;;;;:::o;566:29::-;;;-1:-1:-1;;;;;566:29:42;;:::o;1921:516::-;-1:-1:-1;;;;;1993:24:42;;;;;;:11;:24;;;;;;;;1992:25;1984:61;;;;-1:-1:-1;;;1984:61:42;;;;;;;;;;;;;;;;;-1:-1:-1;;;;;2055:24:42;;;;;;:11;:24;;;;;:31;;-1:-1:-1;;2055:31:42;2082:4;2055:31;;;2097:37;;:::i;:::-;2137:66;;;;;;;;;;-1:-1:-1;2157:8:42;2191:10;;-1:-1:-1;;;2157:45:42;;;2137:66;;;;-1:-1:-1;;;;;2157:8:42;;:20;;:45;;2178:11;;2157:45;;;;;;;;;;;;;;;;;5:9:-1;2:2;;;27:1;24;17:12;2:2;2157:45:42;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2157:45:42;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;2157:45:42;;;;;;;;;2137:66;;2097:106;-1:-1:-1;2219:27:42;2097:106;2244:1;2219:27;:24;:27;:::i;:::-;2214:65;;2262:7;;;2214:65;2289:37;;:::i;:::-;2329:20;;;;;;;;;2344:4;2329:20;;;;;:10;;:20;:14;:20;:::i;:::-;2367:8;;2394:19;;2367:47;;-1:-1:-1;;;2367:47:42;;2289:60;;-1:-1:-1;;;;;;2367:8:42;;;;:13;;:47;;2381:11;;2394:19;2367:47;;;;;;;;;;;;;;;;;5:9:-1;2:2;;;27:1;24;17:12;2:2;2367:47:42;;;;8:9:-1;5:2;;;45:16;42:1;39;24:38;77:16;74:1;67:27;5:2;2367:47:42;;;;;;;101:4:-1;97:9;90:4;84;80:15;76:31;69:5;65:43;126:6;120:4;113:20;0:138;2367:47:42;;;;;;;;;2359:71;;;;-1:-1:-1;;;2359:71:42;;;;;;;;;1921:516;;;;:::o;601:30::-;;;-1:-1:-1;;;;;601:30:42;;:::o;704:43::-;;;;;;;;;;;;;;;:::o;1355:144:11:-;1428:4;1464:19;1481:1;1464:16;:19::i;:::-;:28;1451:10;;:41;;-1:-1:-1;1355:144:11;;;;;:::o;6873:631::-;6947:15;;:::i;:::-;7438:59;;;;;;;;;7485:10;;7447;;7438:59;;7447:49;;:33;;427:6;7447:33;:14;:33;:::i;:::-;:37;:49;:37;:49;:::i;:::-;7438:59;;7431:66;6873:631;-1:-1:-1;;;6873:631:11:o;603:132::-;660:15;;:::i;:::-;694:34;;;;;;;;;;703:24;:1;427:6;703:24;:5;:24;:::i;:::-;694:34;;687:41;603:132;-1:-1:-1;;603:132:11:o;2159:459:68:-;2217:7;2458:6;2454:45;;-1:-1:-1;2487:1:68;2480:8;;2454:45;2521:5;;;2525:1;2521;:5;:1;2544:5;;;;;:10;2536:56;;;;-1:-1:-1;;;2536:56:68;;;;;;;;;2610:1;2159:459;-1:-1:-1;;;2159:459:68:o;3073:130::-;3131:7;3157:39;3161:1;3164;3157:39;;;;;;;;;;;;;;;;;3804:7;3904:12;3897:5;3889:28;;;;-1:-1:-1;;;3889:28:68;;;;;;;;;;;3927:9;3943:1;3939;:5;;;;;;;3718:338;-1:-1:-1;;;;;3718:338:68:o;350:2089:42:-;;;;;;;;;;;;;;:::o;418:241:-1:-;;522:2;510:9;501:7;497:23;493:32;490:2;;;-1:-1;;528:12;490:2;85:6;72:20;-1:-1;;;;;7926:5;6688:54;7901:5;7898:35;7888:2;;-1:-1;;7937:12;666:257;;778:2;766:9;757:7;753:23;749:32;746:2;;;-1:-1;;784:12;746:2;223:6;217:13;8044:5;6600:13;6593:21;8022:5;8019:32;8009:2;;-1:-1;;8055:12;930:263;;1045:2;1033:9;1024:7;1020:23;1016:32;1013:2;;;-1:-1;;1051:12;1013:2;-1:-1;355:13;;1007:186;-1:-1;1007:186;3294:324;-1:-1;;;;;6688:54;;;;1271:37;;3604:2;3589:18;;3245:37;3440:2;3425:18;;3411:207;3625:201;6600:13;;6593:21;1385:34;;3737:2;3722:18;;3708:118;3833:259;-1:-1;;;;;6688:54;;;;1525:73;;3974:2;3959:18;;3945:147;4365:301;;4503:2;;4524:17;4517:47;1934:5;6223:12;6380:6;4503:2;4492:9;4488:18;6368:19;-1:-1;7530:101;7544:6;7541:1;7538:13;7530:101;;;7611:11;;;;;7605:18;7592:11;;;6408:14;7592:11;7585:39;7559:10;;7530:101;;;7646:6;7643:1;7640:13;7637:2;;;-1:-1;6408:14;7702:6;4492:9;7693:16;;7686:27;7637:2;-1:-1;7818:7;7802:14;-1:-1;;7798:28;2092:39;;;;6408:14;2092:39;;4474:192;-1:-1;;;4474:192;4673:407;4864:2;4878:47;;;2368:2;4849:18;;;6368:19;-1:-1;;;6408:14;;;2384:34;2437:12;;;4835:245;5087:407;5278:2;5292:47;;;2688:2;5263:18;;;6368:19;2724:34;6408:14;;;2704:55;-1:-1;;;2779:12;;;2772:25;2816:12;;;5249:245;5501:407;5692:2;5706:47;;;3067:2;5677:18;;;6368:19;3103:25;6408:14;;;3083:46;3148:12;;;5663:245;5915:213;3245:37;;;6033:2;6018:18;;6004:124",
  "source": "pragma solidity ^0.6.0;\n\npragma experimental ABIEncoderV2;\n\nimport \"../../common/implementation/FixedPoint.sol\";\nimport \"../../common/interfaces/ExpandedIERC20.sol\";\nimport \"@openzeppelin/contracts/drafts/ERC20Snapshot.sol\";\n\n\n/**\n * @title Migration contract for VotingTokens.\n * @dev Handles migrating token holders from one token to the next.\n */\ncontract TokenMigrator {\n    using FixedPoint for FixedPoint.Unsigned;\n\n    /****************************************\n     *    INTERNAL VARIABLES AND STORAGE    *\n     ****************************************/\n\n    ERC20Snapshot public oldToken;\n    ExpandedIERC20 public newToken;\n\n    uint public snapshotId;\n    FixedPoint.Unsigned public rate;\n\n    mapping(address => bool) public hasMigrated;\n\n    /**\n     * @notice Construct the TokenMigrator contract.\n     * @dev This function triggers the snapshot upon which all migrations will be based.\n     * @param _rate the number of old tokens it takes to generate one new token.\n     * @param _oldToken address of the token being migrated from.\n     * @param _newToken address of the token being migrated to.\n     */\n    constructor(FixedPoint.Unsigned memory _rate, address _oldToken, address _newToken) public {\n        // Prevents division by 0 in migrateTokens().\n        // Also it doesn’t make sense to have “0 old tokens equate to 1 new token”.\n        require(_rate.isGreaterThan(0));\n        rate = _rate;\n        newToken = ExpandedIERC20(_newToken);\n        oldToken = ERC20Snapshot(_oldToken);\n        snapshotId = oldToken.snapshot();\n    }\n\n    /**\n     * @notice Migrates the tokenHolder's old tokens to new tokens.\n     * @dev This function can only be called once per `tokenHolder`. Anyone can call this method\n     * on behalf of any other token holder since there is no disadvantage to receiving the tokens earlier.\n     * @param tokenHolder address of the token holder to migrate.\n     */\n    function migrateTokens(address tokenHolder) external {\n        require(!hasMigrated[tokenHolder], \"Already migrated tokens\");\n        hasMigrated[tokenHolder] = true;\n\n        FixedPoint.Unsigned memory oldBalance = FixedPoint.Unsigned(oldToken.balanceOfAt(tokenHolder, snapshotId));\n\n        if (!oldBalance.isGreaterThan(0)) {\n            return;\n        }\n\n        FixedPoint.Unsigned memory newBalance = oldBalance.div(rate);\n        require(newToken.mint(tokenHolder, newBalance.rawValue), \"Mint failed\");\n    }\n}\n",
  "sourcePath": "/home/opz/Projects/SynFiat/contracts/uma-contracts/oracle/implementation/TokenMigrator.sol",
  "ast": {
    "absolutePath": "/home/opz/Projects/SynFiat/contracts/uma-contracts/oracle/implementation/TokenMigrator.sol",
    "exportedSymbols": {
      "TokenMigrator": [
        11585
      ]
    },
    "id": 11586,
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 11463,
        "literals": [
          "solidity",
          "^",
          "0.6",
          ".0"
        ],
        "nodeType": "PragmaDirective",
        "src": "0:23:42"
      },
      {
        "id": 11464,
        "literals": [
          "experimental",
          "ABIEncoderV2"
        ],
        "nodeType": "PragmaDirective",
        "src": "25:33:42"
      },
      {
        "absolutePath": "/home/opz/Projects/SynFiat/contracts/uma-contracts/common/implementation/FixedPoint.sol",
        "file": "../../common/implementation/FixedPoint.sol",
        "id": 11465,
        "nodeType": "ImportDirective",
        "scope": 11586,
        "sourceUnit": 3945,
        "src": "60:52:42",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "/home/opz/Projects/SynFiat/contracts/uma-contracts/common/interfaces/ExpandedIERC20.sol",
        "file": "../../common/interfaces/ExpandedIERC20.sol",
        "id": 11466,
        "nodeType": "ImportDirective",
        "scope": 11586,
        "sourceUnit": 4690,
        "src": "113:52:42",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "@openzeppelin/contracts/drafts/ERC20Snapshot.sol",
        "file": "@openzeppelin/contracts/drafts/ERC20Snapshot.sol",
        "id": 11467,
        "nodeType": "ImportDirective",
        "scope": 11586,
        "sourceUnit": 19522,
        "src": "166:58:42",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "abstract": false,
        "baseContracts": [],
        "contractDependencies": [],
        "contractKind": "contract",
        "documentation": {
          "id": 11468,
          "nodeType": "StructuredDocumentation",
          "src": "227:122:42",
          "text": "@title Migration contract for VotingTokens.\n@dev Handles migrating token holders from one token to the next."
        },
        "fullyImplemented": true,
        "id": 11585,
        "linearizedBaseContracts": [
          11585
        ],
        "name": "TokenMigrator",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "id": 11471,
            "libraryName": {
              "contractScope": null,
              "id": 11469,
              "name": "FixedPoint",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 3944,
              "src": "385:10:42",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_FixedPoint_$3944",
                "typeString": "library FixedPoint"
              }
            },
            "nodeType": "UsingForDirective",
            "src": "379:41:42",
            "typeName": {
              "contractScope": null,
              "id": 11470,
              "name": "FixedPoint.Unsigned",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 3259,
              "src": "400:19:42",
              "typeDescriptions": {
                "typeIdentifier": "t_struct$_Unsigned_$3259_storage_ptr",
                "typeString": "struct FixedPoint.Unsigned"
              }
            }
          },
          {
            "constant": false,
            "functionSelector": "b31c710a",
            "id": 11473,
            "name": "oldToken",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 11585,
            "src": "566:29:42",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_ERC20Snapshot_$19521",
              "typeString": "contract ERC20Snapshot"
            },
            "typeName": {
              "contractScope": null,
              "id": 11472,
              "name": "ERC20Snapshot",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 19521,
              "src": "566:13:42",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_ERC20Snapshot_$19521",
                "typeString": "contract ERC20Snapshot"
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "constant": false,
            "functionSelector": "c42bd05a",
            "id": 11475,
            "name": "newToken",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 11585,
            "src": "601:30:42",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_ExpandedIERC20_$4689",
              "typeString": "contract ExpandedIERC20"
            },
            "typeName": {
              "contractScope": null,
              "id": 11474,
              "name": "ExpandedIERC20",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 4689,
              "src": "601:14:42",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_ExpandedIERC20_$4689",
                "typeString": "contract ExpandedIERC20"
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "constant": false,
            "functionSelector": "2ddc79b7",
            "id": 11477,
            "name": "snapshotId",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 11585,
            "src": "638:22:42",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 11476,
              "name": "uint",
              "nodeType": "ElementaryTypeName",
              "src": "638:4:42",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "constant": false,
            "functionSelector": "2c4e722e",
            "id": 11479,
            "name": "rate",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 11585,
            "src": "666:31:42",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_struct$_Unsigned_$3259_storage",
              "typeString": "struct FixedPoint.Unsigned"
            },
            "typeName": {
              "contractScope": null,
              "id": 11478,
              "name": "FixedPoint.Unsigned",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 3259,
              "src": "666:19:42",
              "typeDescriptions": {
                "typeIdentifier": "t_struct$_Unsigned_$3259_storage_ptr",
                "typeString": "struct FixedPoint.Unsigned"
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "constant": false,
            "functionSelector": "d7625c88",
            "id": 11483,
            "name": "hasMigrated",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 11585,
            "src": "704:43:42",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_address_$_t_bool_$",
              "typeString": "mapping(address => bool)"
            },
            "typeName": {
              "id": 11482,
              "keyType": {
                "id": 11480,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "712:7:42",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "nodeType": "Mapping",
              "src": "704:24:42",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_address_$_t_bool_$",
                "typeString": "mapping(address => bool)"
              },
              "valueType": {
                "id": 11481,
                "name": "bool",
                "nodeType": "ElementaryTypeName",
                "src": "723:4:42",
                "typeDescriptions": {
                  "typeIdentifier": "t_bool",
                  "typeString": "bool"
                }
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 11522,
              "nodeType": "Block",
              "src": "1214:347:42",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 11496,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "1396:1:42",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 11494,
                            "name": "_rate",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11486,
                            "src": "1376:5:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                              "typeString": "struct FixedPoint.Unsigned memory"
                            }
                          },
                          "id": 11495,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "isGreaterThan",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 3347,
                          "src": "1376:19:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$3259_memory_ptr_$_t_uint256_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$3259_memory_ptr_$",
                            "typeString": "function (struct FixedPoint.Unsigned memory,uint256) pure returns (bool)"
                          }
                        },
                        "id": 11497,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "1376:22:42",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      ],
                      "id": 11493,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1368:7:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$",
                        "typeString": "function (bool) pure"
                      }
                    },
                    "id": 11498,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1368:31:42",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 11499,
                  "nodeType": "ExpressionStatement",
                  "src": "1368:31:42"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 11502,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 11500,
                      "name": "rate",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 11479,
                      "src": "1409:4:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$3259_storage",
                        "typeString": "struct FixedPoint.Unsigned storage ref"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "id": 11501,
                      "name": "_rate",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 11486,
                      "src": "1416:5:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                        "typeString": "struct FixedPoint.Unsigned memory"
                      }
                    },
                    "src": "1409:12:42",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$3259_storage",
                      "typeString": "struct FixedPoint.Unsigned storage ref"
                    }
                  },
                  "id": 11503,
                  "nodeType": "ExpressionStatement",
                  "src": "1409:12:42"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 11508,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 11504,
                      "name": "newToken",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 11475,
                      "src": "1431:8:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_ExpandedIERC20_$4689",
                        "typeString": "contract ExpandedIERC20"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 11506,
                          "name": "_newToken",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 11490,
                          "src": "1457:9:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 11505,
                        "name": "ExpandedIERC20",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 4689,
                        "src": "1442:14:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_ExpandedIERC20_$4689_$",
                          "typeString": "type(contract ExpandedIERC20)"
                        }
                      },
                      "id": 11507,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1442:25:42",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_ExpandedIERC20_$4689",
                        "typeString": "contract ExpandedIERC20"
                      }
                    },
                    "src": "1431:36:42",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_ExpandedIERC20_$4689",
                      "typeString": "contract ExpandedIERC20"
                    }
                  },
                  "id": 11509,
                  "nodeType": "ExpressionStatement",
                  "src": "1431:36:42"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 11514,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 11510,
                      "name": "oldToken",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 11473,
                      "src": "1477:8:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_ERC20Snapshot_$19521",
                        "typeString": "contract ERC20Snapshot"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 11512,
                          "name": "_oldToken",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 11488,
                          "src": "1502:9:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 11511,
                        "name": "ERC20Snapshot",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 19521,
                        "src": "1488:13:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_ERC20Snapshot_$19521_$",
                          "typeString": "type(contract ERC20Snapshot)"
                        }
                      },
                      "id": 11513,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1488:24:42",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_ERC20Snapshot_$19521",
                        "typeString": "contract ERC20Snapshot"
                      }
                    },
                    "src": "1477:35:42",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_ERC20Snapshot_$19521",
                      "typeString": "contract ERC20Snapshot"
                    }
                  },
                  "id": 11515,
                  "nodeType": "ExpressionStatement",
                  "src": "1477:35:42"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 11520,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 11516,
                      "name": "snapshotId",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 11477,
                      "src": "1522:10:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "expression": {
                          "argumentTypes": null,
                          "id": 11517,
                          "name": "oldToken",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 11473,
                          "src": "1535:8:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_contract$_ERC20Snapshot_$19521",
                            "typeString": "contract ERC20Snapshot"
                          }
                        },
                        "id": 11518,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "snapshot",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 19253,
                        "src": "1535:17:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_external_nonpayable$__$returns$_t_uint256_$",
                          "typeString": "function () external returns (uint256)"
                        }
                      },
                      "id": 11519,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1535:19:42",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "1522:32:42",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 11521,
                  "nodeType": "ExpressionStatement",
                  "src": "1522:32:42"
                }
              ]
            },
            "documentation": {
              "id": 11484,
              "nodeType": "StructuredDocumentation",
              "src": "754:364:42",
              "text": "@notice Construct the TokenMigrator contract.\n@dev This function triggers the snapshot upon which all migrations will be based.\n@param _rate the number of old tokens it takes to generate one new token.\n@param _oldToken address of the token being migrated from.\n@param _newToken address of the token being migrated to."
            },
            "id": 11523,
            "implemented": true,
            "kind": "constructor",
            "modifiers": [],
            "name": "",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 11491,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 11486,
                  "name": "_rate",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 11523,
                  "src": "1135:32:42",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 11485,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3259,
                    "src": "1135:19:42",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$3259_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 11488,
                  "name": "_oldToken",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 11523,
                  "src": "1169:17:42",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 11487,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1169:7:42",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 11490,
                  "name": "_newToken",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 11523,
                  "src": "1188:17:42",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 11489,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1188:7:42",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1134:72:42"
            },
            "returnParameters": {
              "id": 11492,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1214:0:42"
            },
            "scope": 11585,
            "src": "1123:438:42",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "body": {
              "id": 11583,
              "nodeType": "Block",
              "src": "1974:463:42",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 11533,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "UnaryOperation",
                        "operator": "!",
                        "prefix": true,
                        "src": "1992:25:42",
                        "subExpression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "id": 11530,
                            "name": "hasMigrated",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11483,
                            "src": "1993:11:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_mapping$_t_address_$_t_bool_$",
                              "typeString": "mapping(address => bool)"
                            }
                          },
                          "id": 11532,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 11531,
                            "name": "tokenHolder",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11526,
                            "src": "2005:11:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "1993:24:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "416c7265616479206d6967726174656420746f6b656e73",
                        "id": 11534,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2019:25:42",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_fcd037704fc7ab329f55fcd0c839c006e5185a0070b79b2c8ff55d75abc373d3",
                          "typeString": "literal_string \"Already migrated tokens\""
                        },
                        "value": "Already migrated tokens"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_fcd037704fc7ab329f55fcd0c839c006e5185a0070b79b2c8ff55d75abc373d3",
                          "typeString": "literal_string \"Already migrated tokens\""
                        }
                      ],
                      "id": 11529,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1984:7:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 11535,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1984:61:42",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 11536,
                  "nodeType": "ExpressionStatement",
                  "src": "1984:61:42"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 11541,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "baseExpression": {
                        "argumentTypes": null,
                        "id": 11537,
                        "name": "hasMigrated",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 11483,
                        "src": "2055:11:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_address_$_t_bool_$",
                          "typeString": "mapping(address => bool)"
                        }
                      },
                      "id": 11539,
                      "indexExpression": {
                        "argumentTypes": null,
                        "id": 11538,
                        "name": "tokenHolder",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 11526,
                        "src": "2067:11:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "2055:24:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "hexValue": "74727565",
                      "id": 11540,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "bool",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "2082:4:42",
                      "subdenomination": null,
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      },
                      "value": "true"
                    },
                    "src": "2055:31:42",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 11542,
                  "nodeType": "ExpressionStatement",
                  "src": "2055:31:42"
                },
                {
                  "assignments": [
                    11546
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 11546,
                      "name": "oldBalance",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 11583,
                      "src": "2097:37:42",
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                        "typeString": "struct FixedPoint.Unsigned"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 11545,
                        "name": "FixedPoint.Unsigned",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 3259,
                        "src": "2097:19:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$3259_storage_ptr",
                          "typeString": "struct FixedPoint.Unsigned"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 11555,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 11551,
                            "name": "tokenHolder",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11526,
                            "src": "2178:11:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "id": 11552,
                            "name": "snapshotId",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11477,
                            "src": "2191:10:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            },
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 11549,
                            "name": "oldToken",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11473,
                            "src": "2157:8:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_ERC20Snapshot_$19521",
                              "typeString": "contract ERC20Snapshot"
                            }
                          },
                          "id": 11550,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "balanceOfAt",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 19281,
                          "src": "2157:20:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$",
                            "typeString": "function (address,uint256) view external returns (uint256)"
                          }
                        },
                        "id": 11553,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2157:45:42",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 11547,
                        "name": "FixedPoint",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3944,
                        "src": "2137:10:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_FixedPoint_$3944_$",
                          "typeString": "type(library FixedPoint)"
                        }
                      },
                      "id": 11548,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "Unsigned",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3259,
                      "src": "2137:19:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_type$_t_struct$_Unsigned_$3259_storage_ptr_$",
                        "typeString": "type(struct FixedPoint.Unsigned storage pointer)"
                      }
                    },
                    "id": 11554,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "structConstructorCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2137:66:42",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$3259_memory",
                      "typeString": "struct FixedPoint.Unsigned memory"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2097:106:42"
                },
                {
                  "condition": {
                    "argumentTypes": null,
                    "id": 11560,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "UnaryOperation",
                    "operator": "!",
                    "prefix": true,
                    "src": "2218:28:42",
                    "subExpression": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "hexValue": "30",
                          "id": 11558,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "number",
                          "lValueRequested": false,
                          "nodeType": "Literal",
                          "src": "2244:1:42",
                          "subdenomination": null,
                          "typeDescriptions": {
                            "typeIdentifier": "t_rational_0_by_1",
                            "typeString": "int_const 0"
                          },
                          "value": "0"
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_rational_0_by_1",
                            "typeString": "int_const 0"
                          }
                        ],
                        "expression": {
                          "argumentTypes": null,
                          "id": 11556,
                          "name": "oldBalance",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 11546,
                          "src": "2219:10:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                            "typeString": "struct FixedPoint.Unsigned memory"
                          }
                        },
                        "id": 11557,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "isGreaterThan",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3347,
                        "src": "2219:24:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$3259_memory_ptr_$_t_uint256_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$3259_memory_ptr_$",
                          "typeString": "function (struct FixedPoint.Unsigned memory,uint256) pure returns (bool)"
                        }
                      },
                      "id": 11559,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "2219:27:42",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": null,
                  "id": 11563,
                  "nodeType": "IfStatement",
                  "src": "2214:65:42",
                  "trueBody": {
                    "id": 11562,
                    "nodeType": "Block",
                    "src": "2248:31:42",
                    "statements": [
                      {
                        "expression": null,
                        "functionReturnParameters": 11528,
                        "id": 11561,
                        "nodeType": "Return",
                        "src": "2262:7:42"
                      }
                    ]
                  }
                },
                {
                  "assignments": [
                    11567
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 11567,
                      "name": "newBalance",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 11583,
                      "src": "2289:37:42",
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                        "typeString": "struct FixedPoint.Unsigned"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 11566,
                        "name": "FixedPoint.Unsigned",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 3259,
                        "src": "2289:19:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$3259_storage_ptr",
                          "typeString": "struct FixedPoint.Unsigned"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 11572,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 11570,
                        "name": "rate",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 11479,
                        "src": "2344:4:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$3259_storage",
                          "typeString": "struct FixedPoint.Unsigned storage ref"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_Unsigned_$3259_storage",
                          "typeString": "struct FixedPoint.Unsigned storage ref"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 11568,
                        "name": "oldBalance",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 11546,
                        "src": "2329:10:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                          "typeString": "struct FixedPoint.Unsigned memory"
                        }
                      },
                      "id": 11569,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "div",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3797,
                      "src": "2329:14:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$3259_memory_ptr_$_t_struct$_Unsigned_$3259_memory_ptr_$returns$_t_struct$_Unsigned_$3259_memory_ptr_$bound_to$_t_struct$_Unsigned_$3259_memory_ptr_$",
                        "typeString": "function (struct FixedPoint.Unsigned memory,struct FixedPoint.Unsigned memory) pure returns (struct FixedPoint.Unsigned memory)"
                      }
                    },
                    "id": 11571,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2329:20:42",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                      "typeString": "struct FixedPoint.Unsigned memory"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2289:60:42"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 11576,
                            "name": "tokenHolder",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11526,
                            "src": "2381:11:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "id": 11577,
                              "name": "newBalance",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 11567,
                              "src": "2394:10:42",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                                "typeString": "struct FixedPoint.Unsigned memory"
                              }
                            },
                            "id": 11578,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "rawValue",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 3258,
                            "src": "2394:19:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            },
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 11574,
                            "name": "newToken",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11475,
                            "src": "2367:8:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_ExpandedIERC20_$4689",
                              "typeString": "contract ExpandedIERC20"
                            }
                          },
                          "id": 11575,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "mint",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 4688,
                          "src": "2367:13:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",
                            "typeString": "function (address,uint256) external returns (bool)"
                          }
                        },
                        "id": 11579,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2367:47:42",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "4d696e74206661696c6564",
                        "id": 11580,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2416:13:42",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_28c39b78ba029f0fc13f1547f14e04b4ee342add2eb73cbd87e27098ff34658b",
                          "typeString": "literal_string \"Mint failed\""
                        },
                        "value": "Mint failed"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_28c39b78ba029f0fc13f1547f14e04b4ee342add2eb73cbd87e27098ff34658b",
                          "typeString": "literal_string \"Mint failed\""
                        }
                      ],
                      "id": 11573,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "2359:7:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 11581,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2359:71:42",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 11582,
                  "nodeType": "ExpressionStatement",
                  "src": "2359:71:42"
                }
              ]
            },
            "documentation": {
              "id": 11524,
              "nodeType": "StructuredDocumentation",
              "src": "1567:349:42",
              "text": "@notice Migrates the tokenHolder's old tokens to new tokens.\n@dev This function can only be called once per `tokenHolder`. Anyone can call this method\non behalf of any other token holder since there is no disadvantage to receiving the tokens earlier.\n@param tokenHolder address of the token holder to migrate."
            },
            "functionSelector": "c1684711",
            "id": 11584,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "migrateTokens",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 11527,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 11526,
                  "name": "tokenHolder",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 11584,
                  "src": "1944:19:42",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 11525,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1944:7:42",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1943:21:42"
            },
            "returnParameters": {
              "id": 11528,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1974:0:42"
            },
            "scope": 11585,
            "src": "1921:516:42",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          }
        ],
        "scope": 11586,
        "src": "350:2089:42"
      }
    ],
    "src": "0:2440:42"
  },
  "legacyAST": {
    "absolutePath": "/home/opz/Projects/SynFiat/contracts/uma-contracts/oracle/implementation/TokenMigrator.sol",
    "exportedSymbols": {
      "TokenMigrator": [
        11585
      ]
    },
    "id": 11586,
    "nodeType": "SourceUnit",
    "nodes": [
      {
        "id": 11463,
        "literals": [
          "solidity",
          "^",
          "0.6",
          ".0"
        ],
        "nodeType": "PragmaDirective",
        "src": "0:23:42"
      },
      {
        "id": 11464,
        "literals": [
          "experimental",
          "ABIEncoderV2"
        ],
        "nodeType": "PragmaDirective",
        "src": "25:33:42"
      },
      {
        "absolutePath": "/home/opz/Projects/SynFiat/contracts/uma-contracts/common/implementation/FixedPoint.sol",
        "file": "../../common/implementation/FixedPoint.sol",
        "id": 11465,
        "nodeType": "ImportDirective",
        "scope": 11586,
        "sourceUnit": 3945,
        "src": "60:52:42",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "/home/opz/Projects/SynFiat/contracts/uma-contracts/common/interfaces/ExpandedIERC20.sol",
        "file": "../../common/interfaces/ExpandedIERC20.sol",
        "id": 11466,
        "nodeType": "ImportDirective",
        "scope": 11586,
        "sourceUnit": 4690,
        "src": "113:52:42",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "absolutePath": "@openzeppelin/contracts/drafts/ERC20Snapshot.sol",
        "file": "@openzeppelin/contracts/drafts/ERC20Snapshot.sol",
        "id": 11467,
        "nodeType": "ImportDirective",
        "scope": 11586,
        "sourceUnit": 19522,
        "src": "166:58:42",
        "symbolAliases": [],
        "unitAlias": ""
      },
      {
        "abstract": false,
        "baseContracts": [],
        "contractDependencies": [],
        "contractKind": "contract",
        "documentation": {
          "id": 11468,
          "nodeType": "StructuredDocumentation",
          "src": "227:122:42",
          "text": "@title Migration contract for VotingTokens.\n@dev Handles migrating token holders from one token to the next."
        },
        "fullyImplemented": true,
        "id": 11585,
        "linearizedBaseContracts": [
          11585
        ],
        "name": "TokenMigrator",
        "nodeType": "ContractDefinition",
        "nodes": [
          {
            "id": 11471,
            "libraryName": {
              "contractScope": null,
              "id": 11469,
              "name": "FixedPoint",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 3944,
              "src": "385:10:42",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_FixedPoint_$3944",
                "typeString": "library FixedPoint"
              }
            },
            "nodeType": "UsingForDirective",
            "src": "379:41:42",
            "typeName": {
              "contractScope": null,
              "id": 11470,
              "name": "FixedPoint.Unsigned",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 3259,
              "src": "400:19:42",
              "typeDescriptions": {
                "typeIdentifier": "t_struct$_Unsigned_$3259_storage_ptr",
                "typeString": "struct FixedPoint.Unsigned"
              }
            }
          },
          {
            "constant": false,
            "functionSelector": "b31c710a",
            "id": 11473,
            "name": "oldToken",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 11585,
            "src": "566:29:42",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_ERC20Snapshot_$19521",
              "typeString": "contract ERC20Snapshot"
            },
            "typeName": {
              "contractScope": null,
              "id": 11472,
              "name": "ERC20Snapshot",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 19521,
              "src": "566:13:42",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_ERC20Snapshot_$19521",
                "typeString": "contract ERC20Snapshot"
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "constant": false,
            "functionSelector": "c42bd05a",
            "id": 11475,
            "name": "newToken",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 11585,
            "src": "601:30:42",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_contract$_ExpandedIERC20_$4689",
              "typeString": "contract ExpandedIERC20"
            },
            "typeName": {
              "contractScope": null,
              "id": 11474,
              "name": "ExpandedIERC20",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 4689,
              "src": "601:14:42",
              "typeDescriptions": {
                "typeIdentifier": "t_contract$_ExpandedIERC20_$4689",
                "typeString": "contract ExpandedIERC20"
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "constant": false,
            "functionSelector": "2ddc79b7",
            "id": 11477,
            "name": "snapshotId",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 11585,
            "src": "638:22:42",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_uint256",
              "typeString": "uint256"
            },
            "typeName": {
              "id": 11476,
              "name": "uint",
              "nodeType": "ElementaryTypeName",
              "src": "638:4:42",
              "typeDescriptions": {
                "typeIdentifier": "t_uint256",
                "typeString": "uint256"
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "constant": false,
            "functionSelector": "2c4e722e",
            "id": 11479,
            "name": "rate",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 11585,
            "src": "666:31:42",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_struct$_Unsigned_$3259_storage",
              "typeString": "struct FixedPoint.Unsigned"
            },
            "typeName": {
              "contractScope": null,
              "id": 11478,
              "name": "FixedPoint.Unsigned",
              "nodeType": "UserDefinedTypeName",
              "referencedDeclaration": 3259,
              "src": "666:19:42",
              "typeDescriptions": {
                "typeIdentifier": "t_struct$_Unsigned_$3259_storage_ptr",
                "typeString": "struct FixedPoint.Unsigned"
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "constant": false,
            "functionSelector": "d7625c88",
            "id": 11483,
            "name": "hasMigrated",
            "nodeType": "VariableDeclaration",
            "overrides": null,
            "scope": 11585,
            "src": "704:43:42",
            "stateVariable": true,
            "storageLocation": "default",
            "typeDescriptions": {
              "typeIdentifier": "t_mapping$_t_address_$_t_bool_$",
              "typeString": "mapping(address => bool)"
            },
            "typeName": {
              "id": 11482,
              "keyType": {
                "id": 11480,
                "name": "address",
                "nodeType": "ElementaryTypeName",
                "src": "712:7:42",
                "typeDescriptions": {
                  "typeIdentifier": "t_address",
                  "typeString": "address"
                }
              },
              "nodeType": "Mapping",
              "src": "704:24:42",
              "typeDescriptions": {
                "typeIdentifier": "t_mapping$_t_address_$_t_bool_$",
                "typeString": "mapping(address => bool)"
              },
              "valueType": {
                "id": 11481,
                "name": "bool",
                "nodeType": "ElementaryTypeName",
                "src": "723:4:42",
                "typeDescriptions": {
                  "typeIdentifier": "t_bool",
                  "typeString": "bool"
                }
              }
            },
            "value": null,
            "visibility": "public"
          },
          {
            "body": {
              "id": 11522,
              "nodeType": "Block",
              "src": "1214:347:42",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "hexValue": "30",
                            "id": 11496,
                            "isConstant": false,
                            "isLValue": false,
                            "isPure": true,
                            "kind": "number",
                            "lValueRequested": false,
                            "nodeType": "Literal",
                            "src": "1396:1:42",
                            "subdenomination": null,
                            "typeDescriptions": {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            },
                            "value": "0"
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_rational_0_by_1",
                              "typeString": "int_const 0"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 11494,
                            "name": "_rate",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11486,
                            "src": "1376:5:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                              "typeString": "struct FixedPoint.Unsigned memory"
                            }
                          },
                          "id": 11495,
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "isGreaterThan",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 3347,
                          "src": "1376:19:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$3259_memory_ptr_$_t_uint256_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$3259_memory_ptr_$",
                            "typeString": "function (struct FixedPoint.Unsigned memory,uint256) pure returns (bool)"
                          }
                        },
                        "id": 11497,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "1376:22:42",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      ],
                      "id": 11493,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1368:7:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$returns$__$",
                        "typeString": "function (bool) pure"
                      }
                    },
                    "id": 11498,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1368:31:42",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 11499,
                  "nodeType": "ExpressionStatement",
                  "src": "1368:31:42"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 11502,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 11500,
                      "name": "rate",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 11479,
                      "src": "1409:4:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$3259_storage",
                        "typeString": "struct FixedPoint.Unsigned storage ref"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "id": 11501,
                      "name": "_rate",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 11486,
                      "src": "1416:5:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                        "typeString": "struct FixedPoint.Unsigned memory"
                      }
                    },
                    "src": "1409:12:42",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$3259_storage",
                      "typeString": "struct FixedPoint.Unsigned storage ref"
                    }
                  },
                  "id": 11503,
                  "nodeType": "ExpressionStatement",
                  "src": "1409:12:42"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 11508,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 11504,
                      "name": "newToken",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 11475,
                      "src": "1431:8:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_ExpandedIERC20_$4689",
                        "typeString": "contract ExpandedIERC20"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 11506,
                          "name": "_newToken",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 11490,
                          "src": "1457:9:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 11505,
                        "name": "ExpandedIERC20",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 4689,
                        "src": "1442:14:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_ExpandedIERC20_$4689_$",
                          "typeString": "type(contract ExpandedIERC20)"
                        }
                      },
                      "id": 11507,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1442:25:42",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_ExpandedIERC20_$4689",
                        "typeString": "contract ExpandedIERC20"
                      }
                    },
                    "src": "1431:36:42",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_ExpandedIERC20_$4689",
                      "typeString": "contract ExpandedIERC20"
                    }
                  },
                  "id": 11509,
                  "nodeType": "ExpressionStatement",
                  "src": "1431:36:42"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 11514,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 11510,
                      "name": "oldToken",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 11473,
                      "src": "1477:8:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_ERC20Snapshot_$19521",
                        "typeString": "contract ERC20Snapshot"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "id": 11512,
                          "name": "_oldToken",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 11488,
                          "src": "1502:9:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_address",
                            "typeString": "address"
                          }
                        ],
                        "id": 11511,
                        "name": "ERC20Snapshot",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 19521,
                        "src": "1488:13:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_ERC20Snapshot_$19521_$",
                          "typeString": "type(contract ERC20Snapshot)"
                        }
                      },
                      "id": 11513,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "typeConversion",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1488:24:42",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_contract$_ERC20Snapshot_$19521",
                        "typeString": "contract ERC20Snapshot"
                      }
                    },
                    "src": "1477:35:42",
                    "typeDescriptions": {
                      "typeIdentifier": "t_contract$_ERC20Snapshot_$19521",
                      "typeString": "contract ERC20Snapshot"
                    }
                  },
                  "id": 11515,
                  "nodeType": "ExpressionStatement",
                  "src": "1477:35:42"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 11520,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "id": 11516,
                      "name": "snapshotId",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [],
                      "referencedDeclaration": 11477,
                      "src": "1522:10:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "arguments": [],
                      "expression": {
                        "argumentTypes": [],
                        "expression": {
                          "argumentTypes": null,
                          "id": 11517,
                          "name": "oldToken",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 11473,
                          "src": "1535:8:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_contract$_ERC20Snapshot_$19521",
                            "typeString": "contract ERC20Snapshot"
                          }
                        },
                        "id": 11518,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "snapshot",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 19253,
                        "src": "1535:17:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_external_nonpayable$__$returns$_t_uint256_$",
                          "typeString": "function () external returns (uint256)"
                        }
                      },
                      "id": 11519,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "1535:19:42",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_uint256",
                        "typeString": "uint256"
                      }
                    },
                    "src": "1522:32:42",
                    "typeDescriptions": {
                      "typeIdentifier": "t_uint256",
                      "typeString": "uint256"
                    }
                  },
                  "id": 11521,
                  "nodeType": "ExpressionStatement",
                  "src": "1522:32:42"
                }
              ]
            },
            "documentation": {
              "id": 11484,
              "nodeType": "StructuredDocumentation",
              "src": "754:364:42",
              "text": "@notice Construct the TokenMigrator contract.\n@dev This function triggers the snapshot upon which all migrations will be based.\n@param _rate the number of old tokens it takes to generate one new token.\n@param _oldToken address of the token being migrated from.\n@param _newToken address of the token being migrated to."
            },
            "id": 11523,
            "implemented": true,
            "kind": "constructor",
            "modifiers": [],
            "name": "",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 11491,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 11486,
                  "name": "_rate",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 11523,
                  "src": "1135:32:42",
                  "stateVariable": false,
                  "storageLocation": "memory",
                  "typeDescriptions": {
                    "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                    "typeString": "struct FixedPoint.Unsigned"
                  },
                  "typeName": {
                    "contractScope": null,
                    "id": 11485,
                    "name": "FixedPoint.Unsigned",
                    "nodeType": "UserDefinedTypeName",
                    "referencedDeclaration": 3259,
                    "src": "1135:19:42",
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$3259_storage_ptr",
                      "typeString": "struct FixedPoint.Unsigned"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 11488,
                  "name": "_oldToken",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 11523,
                  "src": "1169:17:42",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 11487,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1169:7:42",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                },
                {
                  "constant": false,
                  "id": 11490,
                  "name": "_newToken",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 11523,
                  "src": "1188:17:42",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 11489,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1188:7:42",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1134:72:42"
            },
            "returnParameters": {
              "id": 11492,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1214:0:42"
            },
            "scope": 11585,
            "src": "1123:438:42",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "public"
          },
          {
            "body": {
              "id": 11583,
              "nodeType": "Block",
              "src": "1974:463:42",
              "statements": [
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 11533,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "lValueRequested": false,
                        "nodeType": "UnaryOperation",
                        "operator": "!",
                        "prefix": true,
                        "src": "1992:25:42",
                        "subExpression": {
                          "argumentTypes": null,
                          "baseExpression": {
                            "argumentTypes": null,
                            "id": 11530,
                            "name": "hasMigrated",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11483,
                            "src": "1993:11:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_mapping$_t_address_$_t_bool_$",
                              "typeString": "mapping(address => bool)"
                            }
                          },
                          "id": 11532,
                          "indexExpression": {
                            "argumentTypes": null,
                            "id": 11531,
                            "name": "tokenHolder",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11526,
                            "src": "2005:11:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          "isConstant": false,
                          "isLValue": true,
                          "isPure": false,
                          "lValueRequested": false,
                          "nodeType": "IndexAccess",
                          "src": "1993:24:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_bool",
                            "typeString": "bool"
                          }
                        },
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "416c7265616479206d6967726174656420746f6b656e73",
                        "id": 11534,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2019:25:42",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_fcd037704fc7ab329f55fcd0c839c006e5185a0070b79b2c8ff55d75abc373d3",
                          "typeString": "literal_string \"Already migrated tokens\""
                        },
                        "value": "Already migrated tokens"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_fcd037704fc7ab329f55fcd0c839c006e5185a0070b79b2c8ff55d75abc373d3",
                          "typeString": "literal_string \"Already migrated tokens\""
                        }
                      ],
                      "id": 11529,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "1984:7:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 11535,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "1984:61:42",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 11536,
                  "nodeType": "ExpressionStatement",
                  "src": "1984:61:42"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "id": 11541,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "leftHandSide": {
                      "argumentTypes": null,
                      "baseExpression": {
                        "argumentTypes": null,
                        "id": 11537,
                        "name": "hasMigrated",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 11483,
                        "src": "2055:11:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_mapping$_t_address_$_t_bool_$",
                          "typeString": "mapping(address => bool)"
                        }
                      },
                      "id": 11539,
                      "indexExpression": {
                        "argumentTypes": null,
                        "id": 11538,
                        "name": "tokenHolder",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 11526,
                        "src": "2067:11:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_address",
                          "typeString": "address"
                        }
                      },
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": true,
                      "nodeType": "IndexAccess",
                      "src": "2055:24:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "nodeType": "Assignment",
                    "operator": "=",
                    "rightHandSide": {
                      "argumentTypes": null,
                      "hexValue": "74727565",
                      "id": 11540,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": true,
                      "kind": "bool",
                      "lValueRequested": false,
                      "nodeType": "Literal",
                      "src": "2082:4:42",
                      "subdenomination": null,
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      },
                      "value": "true"
                    },
                    "src": "2055:31:42",
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "id": 11542,
                  "nodeType": "ExpressionStatement",
                  "src": "2055:31:42"
                },
                {
                  "assignments": [
                    11546
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 11546,
                      "name": "oldBalance",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 11583,
                      "src": "2097:37:42",
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                        "typeString": "struct FixedPoint.Unsigned"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 11545,
                        "name": "FixedPoint.Unsigned",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 3259,
                        "src": "2097:19:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$3259_storage_ptr",
                          "typeString": "struct FixedPoint.Unsigned"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 11555,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 11551,
                            "name": "tokenHolder",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11526,
                            "src": "2178:11:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "id": 11552,
                            "name": "snapshotId",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11477,
                            "src": "2191:10:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            },
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 11549,
                            "name": "oldToken",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11473,
                            "src": "2157:8:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_ERC20Snapshot_$19521",
                              "typeString": "contract ERC20Snapshot"
                            }
                          },
                          "id": 11550,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "balanceOfAt",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 19281,
                          "src": "2157:20:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_external_view$_t_address_$_t_uint256_$returns$_t_uint256_$",
                            "typeString": "function (address,uint256) view external returns (uint256)"
                          }
                        },
                        "id": 11553,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2157:45:42",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_uint256",
                          "typeString": "uint256"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 11547,
                        "name": "FixedPoint",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 3944,
                        "src": "2137:10:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_type$_t_contract$_FixedPoint_$3944_$",
                          "typeString": "type(library FixedPoint)"
                        }
                      },
                      "id": 11548,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "Unsigned",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3259,
                      "src": "2137:19:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_type$_t_struct$_Unsigned_$3259_storage_ptr_$",
                        "typeString": "type(struct FixedPoint.Unsigned storage pointer)"
                      }
                    },
                    "id": 11554,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "structConstructorCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2137:66:42",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$3259_memory",
                      "typeString": "struct FixedPoint.Unsigned memory"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2097:106:42"
                },
                {
                  "condition": {
                    "argumentTypes": null,
                    "id": 11560,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "lValueRequested": false,
                    "nodeType": "UnaryOperation",
                    "operator": "!",
                    "prefix": true,
                    "src": "2218:28:42",
                    "subExpression": {
                      "argumentTypes": null,
                      "arguments": [
                        {
                          "argumentTypes": null,
                          "hexValue": "30",
                          "id": 11558,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": true,
                          "kind": "number",
                          "lValueRequested": false,
                          "nodeType": "Literal",
                          "src": "2244:1:42",
                          "subdenomination": null,
                          "typeDescriptions": {
                            "typeIdentifier": "t_rational_0_by_1",
                            "typeString": "int_const 0"
                          },
                          "value": "0"
                        }
                      ],
                      "expression": {
                        "argumentTypes": [
                          {
                            "typeIdentifier": "t_rational_0_by_1",
                            "typeString": "int_const 0"
                          }
                        ],
                        "expression": {
                          "argumentTypes": null,
                          "id": 11556,
                          "name": "oldBalance",
                          "nodeType": "Identifier",
                          "overloadedDeclarations": [],
                          "referencedDeclaration": 11546,
                          "src": "2219:10:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                            "typeString": "struct FixedPoint.Unsigned memory"
                          }
                        },
                        "id": 11557,
                        "isConstant": false,
                        "isLValue": true,
                        "isPure": false,
                        "lValueRequested": false,
                        "memberName": "isGreaterThan",
                        "nodeType": "MemberAccess",
                        "referencedDeclaration": 3347,
                        "src": "2219:24:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$3259_memory_ptr_$_t_uint256_$returns$_t_bool_$bound_to$_t_struct$_Unsigned_$3259_memory_ptr_$",
                          "typeString": "function (struct FixedPoint.Unsigned memory,uint256) pure returns (bool)"
                        }
                      },
                      "id": 11559,
                      "isConstant": false,
                      "isLValue": false,
                      "isPure": false,
                      "kind": "functionCall",
                      "lValueRequested": false,
                      "names": [],
                      "nodeType": "FunctionCall",
                      "src": "2219:27:42",
                      "tryCall": false,
                      "typeDescriptions": {
                        "typeIdentifier": "t_bool",
                        "typeString": "bool"
                      }
                    },
                    "typeDescriptions": {
                      "typeIdentifier": "t_bool",
                      "typeString": "bool"
                    }
                  },
                  "falseBody": null,
                  "id": 11563,
                  "nodeType": "IfStatement",
                  "src": "2214:65:42",
                  "trueBody": {
                    "id": 11562,
                    "nodeType": "Block",
                    "src": "2248:31:42",
                    "statements": [
                      {
                        "expression": null,
                        "functionReturnParameters": 11528,
                        "id": 11561,
                        "nodeType": "Return",
                        "src": "2262:7:42"
                      }
                    ]
                  }
                },
                {
                  "assignments": [
                    11567
                  ],
                  "declarations": [
                    {
                      "constant": false,
                      "id": 11567,
                      "name": "newBalance",
                      "nodeType": "VariableDeclaration",
                      "overrides": null,
                      "scope": 11583,
                      "src": "2289:37:42",
                      "stateVariable": false,
                      "storageLocation": "memory",
                      "typeDescriptions": {
                        "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                        "typeString": "struct FixedPoint.Unsigned"
                      },
                      "typeName": {
                        "contractScope": null,
                        "id": 11566,
                        "name": "FixedPoint.Unsigned",
                        "nodeType": "UserDefinedTypeName",
                        "referencedDeclaration": 3259,
                        "src": "2289:19:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$3259_storage_ptr",
                          "typeString": "struct FixedPoint.Unsigned"
                        }
                      },
                      "value": null,
                      "visibility": "internal"
                    }
                  ],
                  "id": 11572,
                  "initialValue": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "id": 11570,
                        "name": "rate",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 11479,
                        "src": "2344:4:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$3259_storage",
                          "typeString": "struct FixedPoint.Unsigned storage ref"
                        }
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_struct$_Unsigned_$3259_storage",
                          "typeString": "struct FixedPoint.Unsigned storage ref"
                        }
                      ],
                      "expression": {
                        "argumentTypes": null,
                        "id": 11568,
                        "name": "oldBalance",
                        "nodeType": "Identifier",
                        "overloadedDeclarations": [],
                        "referencedDeclaration": 11546,
                        "src": "2329:10:42",
                        "typeDescriptions": {
                          "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                          "typeString": "struct FixedPoint.Unsigned memory"
                        }
                      },
                      "id": 11569,
                      "isConstant": false,
                      "isLValue": true,
                      "isPure": false,
                      "lValueRequested": false,
                      "memberName": "div",
                      "nodeType": "MemberAccess",
                      "referencedDeclaration": 3797,
                      "src": "2329:14:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_internal_pure$_t_struct$_Unsigned_$3259_memory_ptr_$_t_struct$_Unsigned_$3259_memory_ptr_$returns$_t_struct$_Unsigned_$3259_memory_ptr_$bound_to$_t_struct$_Unsigned_$3259_memory_ptr_$",
                        "typeString": "function (struct FixedPoint.Unsigned memory,struct FixedPoint.Unsigned memory) pure returns (struct FixedPoint.Unsigned memory)"
                      }
                    },
                    "id": 11571,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2329:20:42",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                      "typeString": "struct FixedPoint.Unsigned memory"
                    }
                  },
                  "nodeType": "VariableDeclarationStatement",
                  "src": "2289:60:42"
                },
                {
                  "expression": {
                    "argumentTypes": null,
                    "arguments": [
                      {
                        "argumentTypes": null,
                        "arguments": [
                          {
                            "argumentTypes": null,
                            "id": 11576,
                            "name": "tokenHolder",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11526,
                            "src": "2381:11:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            }
                          },
                          {
                            "argumentTypes": null,
                            "expression": {
                              "argumentTypes": null,
                              "id": 11577,
                              "name": "newBalance",
                              "nodeType": "Identifier",
                              "overloadedDeclarations": [],
                              "referencedDeclaration": 11567,
                              "src": "2394:10:42",
                              "typeDescriptions": {
                                "typeIdentifier": "t_struct$_Unsigned_$3259_memory_ptr",
                                "typeString": "struct FixedPoint.Unsigned memory"
                              }
                            },
                            "id": 11578,
                            "isConstant": false,
                            "isLValue": true,
                            "isPure": false,
                            "lValueRequested": false,
                            "memberName": "rawValue",
                            "nodeType": "MemberAccess",
                            "referencedDeclaration": 3258,
                            "src": "2394:19:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          }
                        ],
                        "expression": {
                          "argumentTypes": [
                            {
                              "typeIdentifier": "t_address",
                              "typeString": "address"
                            },
                            {
                              "typeIdentifier": "t_uint256",
                              "typeString": "uint256"
                            }
                          ],
                          "expression": {
                            "argumentTypes": null,
                            "id": 11574,
                            "name": "newToken",
                            "nodeType": "Identifier",
                            "overloadedDeclarations": [],
                            "referencedDeclaration": 11475,
                            "src": "2367:8:42",
                            "typeDescriptions": {
                              "typeIdentifier": "t_contract$_ExpandedIERC20_$4689",
                              "typeString": "contract ExpandedIERC20"
                            }
                          },
                          "id": 11575,
                          "isConstant": false,
                          "isLValue": false,
                          "isPure": false,
                          "lValueRequested": false,
                          "memberName": "mint",
                          "nodeType": "MemberAccess",
                          "referencedDeclaration": 4688,
                          "src": "2367:13:42",
                          "typeDescriptions": {
                            "typeIdentifier": "t_function_external_nonpayable$_t_address_$_t_uint256_$returns$_t_bool_$",
                            "typeString": "function (address,uint256) external returns (bool)"
                          }
                        },
                        "id": 11579,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": false,
                        "kind": "functionCall",
                        "lValueRequested": false,
                        "names": [],
                        "nodeType": "FunctionCall",
                        "src": "2367:47:42",
                        "tryCall": false,
                        "typeDescriptions": {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        }
                      },
                      {
                        "argumentTypes": null,
                        "hexValue": "4d696e74206661696c6564",
                        "id": 11580,
                        "isConstant": false,
                        "isLValue": false,
                        "isPure": true,
                        "kind": "string",
                        "lValueRequested": false,
                        "nodeType": "Literal",
                        "src": "2416:13:42",
                        "subdenomination": null,
                        "typeDescriptions": {
                          "typeIdentifier": "t_stringliteral_28c39b78ba029f0fc13f1547f14e04b4ee342add2eb73cbd87e27098ff34658b",
                          "typeString": "literal_string \"Mint failed\""
                        },
                        "value": "Mint failed"
                      }
                    ],
                    "expression": {
                      "argumentTypes": [
                        {
                          "typeIdentifier": "t_bool",
                          "typeString": "bool"
                        },
                        {
                          "typeIdentifier": "t_stringliteral_28c39b78ba029f0fc13f1547f14e04b4ee342add2eb73cbd87e27098ff34658b",
                          "typeString": "literal_string \"Mint failed\""
                        }
                      ],
                      "id": 11573,
                      "name": "require",
                      "nodeType": "Identifier",
                      "overloadedDeclarations": [
                        -18,
                        -18
                      ],
                      "referencedDeclaration": -18,
                      "src": "2359:7:42",
                      "typeDescriptions": {
                        "typeIdentifier": "t_function_require_pure$_t_bool_$_t_string_memory_ptr_$returns$__$",
                        "typeString": "function (bool,string memory) pure"
                      }
                    },
                    "id": 11581,
                    "isConstant": false,
                    "isLValue": false,
                    "isPure": false,
                    "kind": "functionCall",
                    "lValueRequested": false,
                    "names": [],
                    "nodeType": "FunctionCall",
                    "src": "2359:71:42",
                    "tryCall": false,
                    "typeDescriptions": {
                      "typeIdentifier": "t_tuple$__$",
                      "typeString": "tuple()"
                    }
                  },
                  "id": 11582,
                  "nodeType": "ExpressionStatement",
                  "src": "2359:71:42"
                }
              ]
            },
            "documentation": {
              "id": 11524,
              "nodeType": "StructuredDocumentation",
              "src": "1567:349:42",
              "text": "@notice Migrates the tokenHolder's old tokens to new tokens.\n@dev This function can only be called once per `tokenHolder`. Anyone can call this method\non behalf of any other token holder since there is no disadvantage to receiving the tokens earlier.\n@param tokenHolder address of the token holder to migrate."
            },
            "functionSelector": "c1684711",
            "id": 11584,
            "implemented": true,
            "kind": "function",
            "modifiers": [],
            "name": "migrateTokens",
            "nodeType": "FunctionDefinition",
            "overrides": null,
            "parameters": {
              "id": 11527,
              "nodeType": "ParameterList",
              "parameters": [
                {
                  "constant": false,
                  "id": 11526,
                  "name": "tokenHolder",
                  "nodeType": "VariableDeclaration",
                  "overrides": null,
                  "scope": 11584,
                  "src": "1944:19:42",
                  "stateVariable": false,
                  "storageLocation": "default",
                  "typeDescriptions": {
                    "typeIdentifier": "t_address",
                    "typeString": "address"
                  },
                  "typeName": {
                    "id": 11525,
                    "name": "address",
                    "nodeType": "ElementaryTypeName",
                    "src": "1944:7:42",
                    "stateMutability": "nonpayable",
                    "typeDescriptions": {
                      "typeIdentifier": "t_address",
                      "typeString": "address"
                    }
                  },
                  "value": null,
                  "visibility": "internal"
                }
              ],
              "src": "1943:21:42"
            },
            "returnParameters": {
              "id": 11528,
              "nodeType": "ParameterList",
              "parameters": [],
              "src": "1974:0:42"
            },
            "scope": 11585,
            "src": "1921:516:42",
            "stateMutability": "nonpayable",
            "virtual": false,
            "visibility": "external"
          }
        ],
        "scope": 11586,
        "src": "350:2089:42"
      }
    ],
    "src": "0:2440:42"
  },
  "compiler": {
    "name": "solc",
    "version": "0.6.4+commit.1dca32f3.Emscripten.clang"
  },
  "networks": {},
  "schemaVersion": "3.2.0",
  "updatedAt": "2020-06-01T04:24:41.859Z",
  "devdoc": {
    "details": "Handles migrating token holders from one token to the next.",
    "methods": {
      "constructor": {
        "details": "This function triggers the snapshot upon which all migrations will be based.",
        "params": {
          "_newToken": "address of the token being migrated to.",
          "_oldToken": "address of the token being migrated from.",
          "_rate": "the number of old tokens it takes to generate one new token."
        }
      },
      "migrateTokens(address)": {
        "details": "This function can only be called once per `tokenHolder`. Anyone can call this method on behalf of any other token holder since there is no disadvantage to receiving the tokens earlier.",
        "params": {
          "tokenHolder": "address of the token holder to migrate."
        }
      }
    },
    "title": "Migration contract for VotingTokens."
  },
  "userdoc": {
    "methods": {
      "constructor": "Construct the TokenMigrator contract.",
      "migrateTokens(address)": {
        "notice": "Migrates the tokenHolder's old tokens to new tokens."
      }
    }
  }
}